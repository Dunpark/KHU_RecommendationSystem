# Phase 1 – Task 1.5: 상호작용 분포 EDA (Zipf's Law / Pareto 분석)

**작성일**: 2024.12.04  
**상태**: ✅ 완료

---

## 1. Task 목표

`recommendations.csv`의 User-Item 상호작용 분포를 분석하고, **Zipf's Law** 및 **Pareto 분포** 확인

---

## 2. 실행 환경

- **실행 스크립트**: `task1_5_zipf_analysis.py`
- **데이터 파일**: `Game Recommendations on Steam/recommendations.csv`
- **처리 방식**: 청크 기반 (1M rows/chunk)

---

## 3. 핵심 결과

### 3.1 기본 통계

| 항목 | 값 |
|------|-----|
| **총 상호작용 (리뷰)** | **41,154,794** |
| **유니크 아이템 (게임)** | **37,610** |
| **유니크 사용자** | **13,781,059** |
| 평균 아이템당 상호작용 | 1,094.3 |
| 평균 사용자당 리뷰 | 2.99 |

### 3.2 아이템(게임) 인기도 분포 ⚡ 극단적 Long-tail

| 지표 | 값 |
|------|-----|
| **평균** | 1,094.3 |
| **중앙값** | **39.0** |
| 최소 | 1 |
| **최대** | 319,492 |
| 표준편차 | 7,689.3 |

```
평균(1,094) >> 중앙값(39) = 28배 차이 → 극단적 Long-tail
최대(319,492) vs 최소(1) = 319,492배 차이
```

#### 상위 10개 인기 게임

| 순위 | app_id | 상호작용 수 | 비고 |
|------|--------|-----------|------|
| 1 | 440 | 319,492 | Team Fortress 2 |
| 2 | 252490 | 270,684 | Rust |
| 3 | 1091500 | 226,414 | Cyberpunk 2077 |
| 4 | 730 | 219,737 | CS:GO |
| 5 | 570 | 216,914 | Dota 2 |
| 6 | 444090 | 204,176 | Payday 2 |
| 7 | 292030 | 204,166 | The Witcher 3 |
| 8 | 377160 | 196,789 | Fallout 4 |
| 9 | 374320 | 190,157 | DARK SOULS III |
| 10 | 431960 | 190,129 | Wallpaper Engine |

#### 상호작용 수 구간별 게임 분포

| 구간 | 게임 수 | 비율 | 분류 |
|------|---------|------|------|
| 1-10 | 7,214 | **19.2%** | Long-tail |
| 11-100 | 17,996 | **47.8%** | Long-tail |
| 101-1K | 8,719 | 23.2% | Mid-tier |
| 1K-10K | 2,943 | 7.8% | Popular |
| 10K-100K | 689 | 1.8% | Popular |
| 100K+ | 49 | **0.1%** | **Mega Popular** |

```
Long-tail (≤100 interactions): 67.0% (25,210개)
Popular (≥1K interactions): 9.8% (3,681개)
```

### 3.3 사용자 활동량 분포

| 지표 | 값 |
|------|-----|
| **평균** | 2.99 |
| **중앙값** | **1.0** |
| 최소 | 1 |
| **최대** | 6,045 |
| 표준편차 | 8.12 |

#### 리뷰 수 구간별 사용자 분포

| 구간 | 사용자 수 | 비율 | 분류 |
|------|----------|------|------|
| **1** | **7,573,027** | **55.0%** | Light |
| 2 | 2,436,378 | 17.7% | Light |
| 3-5 | 2,296,645 | 16.7% | Light |
| 6-10 | 889,778 | 6.5% | Mid |
| 11-20 | 389,381 | 2.8% | Heavy |
| 21-50 | 160,234 | 1.2% | Heavy |
| 51-100 | 27,421 | 0.2% | Heavy |
| 100+ | 8,195 | **0.1%** | **Super Heavy** |

```
⚠️ 핵심 발견:
55%의 사용자가 단 1개의 리뷰만 작성
89.4%의 사용자가 5개 이하의 리뷰 작성
```

---

## 4. Pareto 분포 분석 결과 ⭐

### 4.1 아이템 Pareto (상위 N% 아이템이 전체 상호작용의 몇 %?)

| 상위 아이템 % | 게임 수 | 상호작용 비율 |
|--------------|---------|--------------|
| 1% | 376개 | **55.6%** |
| **5%** | 1,880개 | **84.0%** |
| **10%** | 3,761개 | **91.6%** |
| 20% | 7,522개 | 96.3% |
| 30% | 11,283개 | 98.0% |
| 50% | 18,805개 | 99.3% |

```
⭐ 핵심 발견:
상위 1% 아이템 (376개)이 전체 상호작용의 55.6% 차지
상위 10% 아이템 (3,761개)이 전체 상호작용의 91.6% 차지
→ Zipf's Law / Pareto 분포 확인
```

### 4.2 역 Pareto (전체 상호작용의 N%를 차지하는 아이템 비율)

| 상호작용 % | 아이템 비율 | 게임 수 |
|-----------|------------|---------|
| 50% | 0.77% | 290개 |
| **60%** | **1.23%** | **463개** |
| 70% | 2.07% | 778개 |
| 80% | 3.78% | 1,420개 |
| 90% | 8.43% | 3,172개 |

```
⭐ 누적 60% 기준:
상위 1.23% (463개) 아이템이 전체 상호작용의 60% 차지
→ Popular: 463개 / Long-tail: 37,147개
```

### 4.3 사용자 Pareto (상위 N% 사용자가 전체 리뷰의 몇 %?)

| 상위 사용자 % | 사용자 수 | 리뷰 비율 |
|--------------|----------|----------|
| 1% | 137,810명 | 16.5% |
| 5% | 689,052명 | 35.7% |
| **10%** | 1,378,105명 | **47.8%** |
| **20%** | 2,756,211명 | **62.4%** |
| 30% | 4,134,317명 | 71.5% |
| 50% | 6,890,529명 | 83.3% |

```
⭐ 핵심 발견:
상위 10% 사용자가 전체 리뷰의 47.8% 작성
상위 20% 사용자가 전체 리뷰의 62.4% 작성
→ 사용자 분포도 Pareto, 단 아이템보다는 덜 극단적
```

---

## 5. 분류 기준 제안 ⭐⭐⭐

### 5.1 아이템 분류 (누적 60% 기준) - 권장

| 분류 | 기준 | 개수 | 비율 |
|------|------|------|------|
| **Popular** | 상호작용 ≥ 18,442 | **463개** | **1.23%** |
| **Long-tail** | 상호작용 < 18,442 | **37,147개** | **98.77%** |

### 5.2 사용자 분류 (누적 60% 기준) - 권장

| 분류 | 기준 | 인원 | 비율 |
|------|------|------|------|
| **Heavy** | 리뷰 ≥ 4 | **2,472,973명** | **17.94%** |
| **Light** | 리뷰 < 4 | **11,308,086명** | **82.06%** |

### 5.3 대안 기준 (Quantile 20%)

| 분류 | 기준 | 비고 |
|------|------|------|
| 아이템 상위 20% | 상호작용 ≥ 274 | 더 포괄적 |
| 사용자 상위 20% | 리뷰 ≥ 3 | 더 포괄적 |

---

## 6. 결과 해석 및 연구 질문 연결

### 6.1 Zipf's Law 확인 ✅

```
아이템 분포: 상위 1% → 55.6% 상호작용 (Zipf 지수 ≈ 1.0)
사용자 분포: 상위 10% → 47.8% 리뷰 (덜 극단적이지만 Pareto)
```

| 분포 유형 | Zipf 특성 | 강도 |
|----------|----------|------|
| 아이템 인기도 | ⭐⭐⭐⭐⭐ | **매우 강함** |
| 사용자 활동량 | ⭐⭐⭐ | 보통 |

### 6.2 연구 질문(RQ) 연결

| RQ | 이 결과의 시사점 |
|----|----------------|
| **RQ1** | Long-tail 아이템 98.77% → CF 모델의 Cold-start 문제 심각 |
| **RQ2** | Light 사용자 82% → 대부분 사용자의 선호 파악 어려움 |
| **RQ3** | Pareto 분포 확인 → Content 피처로 Long-tail 보완 필수 |

### 6.3 모델링 시사점

```
1. Baseline CF 모델의 한계
   - Popular 아이템 (1.23%)에만 높은 성능 예상
   - Long-tail (98.77%)에서는 Cold-start로 추천 불가
   
2. Content-based 접근의 필요성
   - Long-tail 아이템의 태그/장르 피처 활용
   - 콘텐츠 유사도 기반 추천으로 커버리지 확보

3. Hybrid 모델 설계 방향
   - Popular 아이템: CF 기반 협업 신호 활용
   - Long-tail 아이템: Content 피처 가중치 증가
   - 아이템 인기도에 따른 동적 가중치 조절
```

---

## 7. 기존 파티션 결과와 비교

### 7.1 prtition 폴더의 기존 파티션

| 구분 | 기존 결과 | 이번 분석 |
|------|----------|----------|
| Popular 아이템 | 누적 60% 기준 | 463개 (1.23%) |
| Long-tail 아이템 | 나머지 40% | 37,147개 (98.77%) |
| Heavy 사용자 | 누적 60% 기준 | 2,472,973명 (17.94%) |
| Light 사용자 | 나머지 | 11,308,086명 (82.06%) |

---

## 8. 생성 파일

| 파일 | 경로 | 설명 |
|------|------|------|
| 분석 스크립트 | `task1_5_zipf_analysis.py` | Pareto 분석 코드 |

---

## 9. 체크리스트

- [x] 청크 기반 41M rows 전체 처리
- [x] 아이템 인기도 분포 분석
- [x] 사용자 활동량 분포 분석
- [x] Pareto 누적 분포 계산
- [x] Zipf's Law 확인
- [x] 분류 기준 제안 (누적 60%)
- [x] 연구 질문과 연결한 해석
- [x] 모델링 시사점 도출

